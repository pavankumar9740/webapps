(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7de4edc"],{"4de4":function(t,e,s){"use strict";var i=s("23e7"),a=s("b727").filter,r=s("1dde"),o=s("ae40"),n=r("filter"),l=o("filter");i({target:"Array",proto:!0,forced:!n||!l},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"698b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("Header")],1),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("Sidebar")],1),s("div",{staticClass:"app-main__outer"},[s("div",{staticClass:"app-main__inner"},[s("StockRequestList")],1)]),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("Footer")],1)],1)},a=[],r=s("0418"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"d-block header-section"},[t._m(0),i("b-col",{staticClass:"mb-2 col-md-6 float-right search-section"},[i("b-form-group",{staticClass:"mb-0",attrs:{label:"","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[i("b-input-group",[i("b-form-input",{staticClass:"form-control",attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),i("b-input-group-append",[i("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[i("img",{attrs:{src:s("e055"),alt:""}})])],1)],1)],1)],1)],1),i("div",{staticClass:"container-fluid order-list"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-12 mt-3 mb-5"},[i("div",{staticClass:"card pb-3"},[i("div",{staticClass:"p-3 list-filter"},[i("div",{staticClass:"btn-group"},[i("button",{staticClass:"btn btn-outline-dark rounded-btn mr-2 mob-mar",class:{active:this.Alltab},attrs:{type:"button"},on:{click:function(e){return t.onStatusFilterClicked("All")}}},[t._v(t._s(this.AllText))])]),i("div",{staticClass:"btn-group"},[i("input",{attrs:{type:"checkbox",id:"requested",name:"stockRequestslist",hidden:""}}),i("label",{staticClass:"btn btn-outline-info rounded-btn mr-2 mob-mar",attrs:{for:"requested",type:"button"},on:{click:function(e){return t.onStatusFilterClicked("1")}}},[t._v(t._s(this.RequestedText))])]),i("div",{staticClass:"btn-group"},[i("input",{attrs:{type:"checkbox",id:"approved",name:"stockRequestslist",hidden:""}}),i("label",{staticClass:"btn btn-outline-success rounded-btn mr-2 mob-mar",attrs:{for:"approved",type:"button"},on:{click:function(e){return t.onStatusFilterClicked("2")}}},[t._v(t._s(this.ApprovedText))])]),i("div",{staticClass:"btn-group"},[i("input",{attrs:{type:"checkbox",id:"transit",name:"stockRequestslist",hidden:""}}),i("label",{staticClass:"btn btn-outline-danger rounded-btn mr-2 mob-mar",attrs:{for:"transit",type:"button"},on:{click:function(e){return t.onStatusFilterClicked("3")}}},[t._v(t._s(this.TransitText))])]),i("div",{staticClass:"btn-group"},[i("input",{attrs:{type:"checkbox",id:"closed",name:"stockRequestslist",hidden:""}}),i("label",{staticClass:"btn btn-outline-warning rounded-btn mr-2 mob-mar",attrs:{for:"closed",type:"button"},on:{click:function(e){return t.onStatusFilterClicked("4")}}},[t._v(t._s(this.ClosedText))])]),i("div",{staticClass:"btn-group"},[i("input",{attrs:{type:"checkbox",id:"expired",name:"stockRequestslist",hidden:""}}),i("label",{staticClass:"btn btn-outline-warning rounded-btn mr-2 mob-mar",attrs:{for:"expired",type:"button"},on:{click:function(e){return t.onStatusFilterClicked("5")}}},[t._v(t._s(this.ExpiredText))])])]),i("div",{staticClass:"overflow-auto"},[i("b-table",{staticClass:"table order",attrs:{id:"stockRequestslist",items:this.getStockRequests,filter:t.filter,"filter-debounce":"1000",fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-icon-left":""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[t.isViewOnlyRole||"Requested"==e.item.status&&t.userLocationId==e.item.requestingFacilityId?i("router-link",{attrs:{to:{name:"StockRequestDetail",params:{requestId:e.item.stockRequestId}}}},[t._v("View")]):"Requested"==e.item.status&&t.userLocationId!=e.item.requestingFacilityId?i("router-link",{attrs:{to:{name:"StockRequestReview",params:{requestId:e.item.stockRequestId}}}},[t._v("Review")]):"Approved"==e.item.status&&t.userLocationId==e.item.approvingFacilityId?i("router-link",{attrs:{to:{name:"StockRequestFulfill",params:{requestId:e.item.stockRequestId}}}},[t._v("Fulfill")]):i("router-link",{attrs:{to:{name:"StockRequestDetail",params:{requestId:e.item.stockRequestId}}}},[t._v("View")])]}}])}),i("b-pagination",{staticClass:"float-right mr-4",attrs:{"total-rows":this.totalRows,"per-page":t.perPage,"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("b",[t._v("Internal Stock Requests")])])}],l=(s("4de4"),s("c975"),s("a434"),s("bc3a")),c=s.n(l),u=s("a9e4"),d={data:function(){return{userLocationId:null,filter:"",requestStatus:[],requestsFrom:null,requestsTill:null,locations:[],perPage:10,currentPage:1,totalRows:0,sortBy:"requestedOn",sortDesc:!0,AllText:"",RequestedText:"",ApprovedText:"",TransitText:"",ClosedText:"",ExpiredText:"",Alltab:!0,role:"",roles:[],fields:[{key:"number",label:"Stock Request Number"},{key:"requestedStamps",sortable:!0},{key:"fulfilledStamps"},{key:"requestedOn",sortable:!0},{key:"status"},{key:"requestingFacility",sortable:!0},{key:"approvingFacility"},{key:"action",label:"Actions"}]}},created:function(){this.role=this.$store.state.clientAppDecodedToken.Role,this.userLocationId=this.$store.state.clientAppDecodedToken.LocationId,this.roles=u["a"]},components:{},computed:{isViewOnlyRole:function(){return this.role==u["a"].TpsafAdmin||this.role==u["a"].TsspWarehouseIncharge||this.role==u["a"].TsspAdmin||this.role==u["a"].TsspIntermediate}},methods:{onStatusFilterClicked:function(t){if("All"!=t){var e=parseInt(t),s=this.requestStatus.indexOf(e);s>-1?(this.requestStatus.splice(s,1),this.Alltab=!1):(this.requestStatus.push(e),this.Alltab=!1),this.$root.$emit("bv::refresh::table","stockRequestslist")}else{this.requestStatus=[],this.$root.$emit("bv::refresh::table","stockRequestslist"),this.Alltab=!0;for(var i=document.getElementsByName("orderlist"),a=0;a<i.length;a++)"checkbox"==i[a].type&&(i[a].checked=!1)}},getStockRequests:function(t){var e=this,s=c()({url:"/InternalStock/GetStockRequests",method:"post",baseURL:"https://dev-authss-order-api.azurewebsites.net/api",data:{searchText:t.filter,locations:this.locations,statuses:this.requestStatus,requestsFrom:this.requestsFrom,requestsTill:this.requestsTill,sortBy:t.sortBy,sortByDesc:t.sortDesc,pageNo:t.currentPage,pageSize:t.perPage}});return s.then((function(t){var s=t.data.miniStockRequestDtos;return e.totalRows=t.data.totalCount,e.AllText="All("+t.data.totalCount+")",e.RequestedText="Requested("+t.data.requestedCount+")",e.ApprovedText="Approved("+t.data.approvedCount+")",e.TransitText="Transit("+t.data.transitCount+")",e.ExpiredText="Expired("+t.data.expiredCount+")",e.ClosedText="Closed("+t.data.closedCount+")",s||[]}))}}},p=d,b=s("2877"),m=Object(b["a"])(p,o,n,!1,null,null,null),h=m.exports,f=s("5ea5"),k=s("fd2d"),A={name:"app",components:{Header:r["a"],StockRequestList:h,Sidebar:f["a"],Footer:k["a"]},methods:{}},v=A,g=Object(b["a"])(v,i,a,!1,null,null,null);e["default"]=g.exports},a434:function(t,e,s){"use strict";var i=s("23e7"),a=s("23cb"),r=s("a691"),o=s("50c4"),n=s("7b0b"),l=s("65f0"),c=s("8418"),u=s("1dde"),d=s("ae40"),p=u("splice"),b=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,f=9007199254740991,k="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!b},{splice:function(t,e){var s,i,u,d,p,b,A=n(this),v=o(A.length),g=a(t,v),R=arguments.length;if(0===R?s=i=0:1===R?(s=0,i=v-g):(s=R-2,i=h(m(r(e),0),v-g)),v+s-i>f)throw TypeError(k);for(u=l(A,i),d=0;d<i;d++)p=g+d,p in A&&c(u,d,A[p]);if(u.length=i,s<i){for(d=g;d<v-i;d++)p=d+i,b=d+s,p in A?A[b]=A[p]:delete A[b];for(d=v;d>v-i+s;d--)delete A[d-1]}else if(s>i)for(d=v-i;d>g;d--)p=d+i-1,b=d+s-1,p in A?A[b]=A[p]:delete A[b];for(d=0;d<s;d++)A[d+g]=arguments[d+2];return A.length=v-i+s,u}})},e055:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUQwNThBQThBNzBBMTFFQUE3NTVFMDQ5Qzg5RDBGQzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUQwNThBQTlBNzBBMTFFQUE3NTVFMDQ5Qzg5RDBGQzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFRDA1OEFBNkE3MEExMUVBQTc1NUUwNDlDODlEMEZDNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFRDA1OEFBN0E3MEExMUVBQTc1NUUwNDlDODlEMEZDNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuT+QyAAAAD9SURBVHja7JfBCsIwDIY7b4KPr6JQ2+2gKPpIgoI3PYhPMBNooYhrs6adE/pD2GVtvuVPs61q21aMQRMxEhWQAlJAegvniC9AD4gtM80O4unNQwA5IS+EjISQZv2eC4LSkTDSXZcCBFWbTRURQpn7N5Q26AOCaoiVkZ8QqUHcykiKHTlBfDapb5XICeLaNIeYQix8EDlBUGuT/Gyuy9iZxQVB3QzElTM8U1Xk8suK2B5ZQcwcqEF7xJ6apgNukFNjx30dgMw6R+wT60Dv6JyTtcuOUA8lfdeE7BAUm7ggR6IdIZsOXJAXbsL8QsP1d1+eqvxyFpAC8q8gbwEGAA5jqcJl9/crAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=chunk-f7de4edc.9e5dc388.js.map