(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d8093f4"],{"0b45":function(t,e,s){t.exports=s.p+"img/order-four.593f0c54.png"},"0beb":function(t,e,s){t.exports=s.p+"img/order-two.ad8a471a.png"},4558:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("Header")],1),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("Sidebar")],1),s("div",{staticClass:"app-main__outer"},[s("div",{staticClass:"app-main__inner"},[s("OrderDetail",{attrs:{"order-id":t.orderId,"is-review":!1}})],1)]),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[s("Footer")],1)],1)},r=[],i=s("0418"),l=s("5ea5"),o=s("dfd9"),c=s("fd2d"),d={name:"app",components:{Header:i["a"],Sidebar:l["a"],Footer:c["a"],OrderDetail:o["a"]},props:["orderId"],methods:{}},n=d,m=s("2877"),p=Object(m["a"])(n,a,r,!1,null,null,null);e["default"]=p.exports},"63b3":function(t,e,s){t.exports=s.p+"img/order-three.54a34eef.png"},"6e75":function(t,e,s){t.exports=s.p+"img/order-one.aa36a22c.png"},d81d:function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").map,i=s("1dde"),l=s("ae40"),o=i("map"),c=l("map");a({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},dfd9:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-12 mt-3 mb-2"},[s("div",{staticClass:"card mb-4"},[s("div",{staticClass:"row p-5"},[s("div",{staticClass:"col-12 col-md-4 p-3 row mob-c"},[t._m(1),s("div",{staticClass:"col-md-9 mt-2"},[s("h5",{staticClass:"text-muted"},[t._v("Order Number")]),s("h5",{staticClass:"d-flex align-items-left text-primary"},[t._v(" "+t._s(t.order.orderNumber)+" ")])])]),s("div",{staticClass:"col-12 col-md-4 border-left p-3 row mob-c"},[t._m(2),s("div",{staticClass:"col-md-9 mt-2"},[s("h5",{staticClass:"text-muted"},[t._v("Order Status")]),s("h5",{staticClass:"d-flex align-items-left text-primary"},[t._v(" "+t._s(t.order.statusString)+" ")])])]),s("div",{staticClass:"col-12 col-md-4 border-left p-3 row mob-c"},[t._m(3),s("div",{staticClass:"col-md-9 mt-2"},[s("h5",{staticClass:"text-muted"},[t._v("Warehouse Name")]),s("h5",{staticClass:"d-flex align-items-left text-primary"},[t._v(" "+t._s(t.order.warehouseName)+" ")])])]),s("div",{staticClass:"col-12 col-md-4 p-3 row mob-c"},[t._m(4),s("div",{staticClass:"col-md-9 mt-2"},[s("h5",{staticClass:"text-muted"},[t._v("Payment Status")]),s("h5",{staticClass:"d-flex align-items-left text-primary"},[t._v(" "+t._s(t.order.payment&&t.order.payment.statusString)+" ")])])]),s("div",{staticClass:"col-12 col-md-4 border-left p-3 row mob-c"},[t._m(5),s("div",{staticClass:"col-md-9 mt-2"},[s("h5",{staticClass:"text-muted"},[t._v("Transactions ID")]),s("h5",{staticClass:"d-flex align-items-left text-primary"},[t._v(" "+t._s(t.order.payment&&t.order.payment.transactionId)+" ")])])]),t._m(6)])]),s("div",{staticClass:"card"},[s("div",{staticClass:"table-responsive"},[s("b-table",{staticClass:"itemListingFulfillView",attrs:{items:t.orderItems,fields:t.fields,responsive:"sm"},scopedSlots:t._u([{key:"cell(show_details)",fn:function(e){return[e.item.fullfilledPackages?s("b-button",{staticClass:"mr-2",attrs:{size:"sm",variant:"primary"},on:{click:e.toggleDetails}},[t._v(" View ")]):t._e()]}},{key:"row-details",fn:function(e){return[e.item.fullfilledPackages&&e.item.fullfilledPackages.length>0?s("b-card",[s("table",{staticClass:"table itemListingFulfillView coilListing",attrs:{id:"tab"}},[s("thead",[s("tr",[s("th",[t._v("Package")]),s("th",[t._v("Code")]),s("th",[t._v("No. of Stamps")])])]),s("tbody",t._l(e.item.fullfilledPackages,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(t.packageObj[e.packageType]))]),s("td",[t._v(t._s(e.code))]),s("td",[t._v(t._s(e.stampCount))])])})),0)]),s("div",{staticClass:"d-flex flex-row-reverse"},[s("b-button",{staticClass:"pull-right",attrs:{size:"sm",variant:"primary"},on:{click:e.toggleDetails}},[t._v("CLOSE")])],1)]):t._e()]}}])}),s("div",{staticClass:"itemListingFulfillView"},[s("table",{staticClass:"table b-table",attrs:{role:"table","aria-busy":"false","aria-colcount":"10"}},[t._m(7),s("tr",[s("td",{attrs:{colspan:"5"}}),s("td",[s("b",[t._v(t._s(t.order.totalCoils))])]),s("td",[s("b",[t._v(t._s(t.order.totalStamps))])]),t._m(8),s("td",[s("b",[t._v(t._s(t.order.totalStampsPrice))])]),s("td")]),s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"8"}},[t._v("Total")]),s("td",{staticClass:"text-left text-primary"},[s("b",[t._v(t._s(t.order.totalStampsPrice))])]),s("td")]),s("tr",[s("td",{staticClass:"text-right border-white",attrs:{colspan:"8"}},[t._v("VAT")]),s("td",{staticClass:"text-left text-primary border-white"},[s("b",[t._v(t._s(t.order.tax))])]),s("td")]),s("tr",[s("td",{staticClass:"text-right border-white",attrs:{colspan:"8"}},[t._v(" Shipping Charges ")]),s("td",{staticClass:"text-left text-primary border-white"},[s("b",[t._v(t._s(t.order.shippingCharges))])]),s("td")]),s("tr",[t._m(9),s("td",{staticClass:"text-left text-primary border-white"},[s("b",[t._v(t._s(t.order.totalPrice))])]),s("td")])])])],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-sm-12 mt-3"},[s("p",{staticClass:"text-muted mb-2"},[t._v("History")]),s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table layout-secondary bordered"},[t._m(10),s("tbody",t._l(t.order.orderHistories,(function(e){return s("tr",{key:e.id,staticStyle:{background:"#fff"}},[s("td",[t._v(t._s(e.createdDateString))]),s("td",[t._v(t._s(e.actionedBy))]),s("td",[t._v(t._s(e.statusString))]),s("td",[t._v(t._s(e.comments))])])})),0)])])])])]),t.isReview?t._e():s("div",{staticClass:"col-12 col-md-12 mb-2"},[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-sm",modifiers:{"modal-sm":!0}}],staticClass:"float-right mb-3 p-2 pl-5 pr-5",attrs:{variant:"outline-primary"},on:{click:t.redirectToHome}},[t._v(" BACK ")])],1)])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-3 d-block header-section"},[s("h1",[s("b",[t._v("Order Details")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"mob-img",attrs:{src:s("6e75")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"mob-img",attrs:{src:s("0beb")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"mob-img",attrs:{src:s("63b3")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"mob-img",attrs:{src:s("0b45")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"mob-img",attrs:{src:s("f583")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-4 border-left p-3 row"},[s("h5",{staticClass:"d-flex align-items-left text-primary"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{staticStyle:{height:"1px"},attrs:{role:"row"}},[s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}}),s("td",{attrs:{role:"cell"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",{staticClass:"text-center"},[s("b")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",{staticClass:"text-right border-white",attrs:{colspan:"8"}},[s("b",[t._v("Grand Total")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Date")]),s("th",[t._v("User Type")]),s("th",[t._v("Action")]),s("th",[t._v("Note")])])])}],i=(s("99af"),s("d81d"),s("bc3a")),l=s.n(i),o=s("fc12"),c=s("a9e4"),d={data:function(){return{order:{},token:null,packageList:[],packageObj:{},role:"",selectedRowIndex:0,orderItems:[],fields:["productType","productName","sku","supplierName","reelSize","NoOfReels","totalStamps","stampPriceinGHC","totalGHC","show_details"]}},created:function(){this.role=this.$store.state.clientAppDecodedToken.Role},props:{orderId:String,isReview:Boolean},mounted:function(){var t=this;this.getPackageTypes(),l.a.get("https://dev-authss-order-api.azurewebsites.net/api/Orders?orderId="+this.orderId).then((function(e){t.order=e.data;var s=[];t.order.orderItems.map((function(t){var e={productType:t.productName,productName:t.brandProductName,sku:t.stockKeepingUnitName,supplierName:t.supplierName,reelSize:t.reelSize,NoOfReels:t.noOfCoils,totalStamps:t.noOfStamps,stampPriceInGHC:t.stampPrice,totalGHC:t.totalPrice,fullfilledPackages:t.fullfilledPackages,_showDetails:!1};s.push(e)})),t.orderItems=[].concat(s)}))},components:{},methods:{isNtlUser:function(){return this.role==c["a"].TsspAdmin||this.role==c["a"].TsspIntermediate||this.role==c["a"].TsspWarehouseIncharge},isTaxAuthUser:function(){return this.role==c["a"].TaxAuthAdmin||this.role==c["a"].TaxAuthRevenueOfficer},redirectToHome:function(){if(this.isNtlUser()||this.isTaxAuthUser())switch(this.order.orgType){case 4:this.$router.push({name:"StockOrders"});break;default:this.$router.push({name:"Orders"});break}else this.$router.push({name:"Orders"})},toggleDetails:function(t){console.log("index",t),console.log("this.order.orderItems",this.orderItems),this.selectedRowIndex==t?this.orderItems[t]._showDetails=!this.orderItems[t]._showDetails:(this.selectedRowIndex=t,this.orderItems.map((function(t){t._showDetails=!1})),this.orderItems[t]._showDetails=!0),console.log("this.orderItems",this.orderItems)},getPackageTypes:function(){var t=this;l.a.get("/Packages/GetPackageTypes",{baseURL:"https://dev-authss-order-api.azurewebsites.net/api"}).then((function(e){var s=[];for(var a in e.data)"Pallet"!==e.data[a]&&s.push({productId:a,productName:e.data[a]});t.packageList=s,t.packageObj=e.data})).catch((function(t){t.response?o["a"].warning(t.response.data):t.request?console.log("err 2",t.request):console.log("err 3",t)}))}}},n=d,m=s("2877"),p=Object(m["a"])(n,a,r,!1,null,null,null);e["a"]=p.exports},f583:function(t,e,s){t.exports=s.p+"img/order-five.765b4f67.png"}}]);
//# sourceMappingURL=chunk-7d8093f4.bc8bc390.js.map